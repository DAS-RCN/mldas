stages:
  - pages

myJob:
  stage: pages
  image: python:3.7
  script:
  - mkdir .public
  - apt-get update -q -y
  - apt-get install -y python-pip  
  - git submodule update --init -- docs
  - pip install -U sphinx sphinx-material recommonmark numpydoc nbsphinx sphinx_markdown_tables sphinx_copybutton ipython
  - cd docs && make html
  - cp -r docs/_build/* .public
  - mv .public public
  artifacts:
    paths:
    - public
  only:
  - master
